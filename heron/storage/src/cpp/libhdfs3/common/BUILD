package(default_visibility = ["//visibility:public"])

cc_library(
    name = "common-cxx",
    srcs = [
        "CFileWrapper.cpp",
        "Exception.cpp",
        "ExceptionInternal.cpp",
        "HWCrc32c.cpp",
        "Hash.cpp",
        "Logger.cpp",
        "MappedFileWrapper.cpp",
        "SWCrc32c.cpp",
        "SessionConfig.cpp",
        "StackPrinter.cpp",
        "Thread.cpp",
        "WritableUtils.cpp",
        "WriteBuffer.cpp",
        "XmlConfig.cpp",
    ],
    hdrs = [
        "Atomic.h",
        "BigEndian.h",
        "Checksum.h",
        "DateTime.h",
        "Exception.h",
        "ExceptionInternal.h",
        "FileWrapper.h",
        "Function.h",
        "HWCrc32c.h",
        "Hash.h",
        "Logger.h",
        "LruMap.h",
        "Memory.h",
        "SWCrc32c.h",
        "SessionConfig.h",
        "StackPrinter.h",
        "StringUtil.h",
        "Thread.h",
        "Unordered.h",
        "WritableUtils.h",
        "WriteBuffer.h",
        "XmlConfig.h",
        "platform.h",
    ],
    copts = [
        "-Ithird_party",
        "-I.",
    ],
    deps = [
        "//config:config-cxx",
        "//third_party/libxml2:libxml2-cxx",
        "//third_party/protobuf:protobuf-cxx",
    ],
    linkstatic = 1,
)
